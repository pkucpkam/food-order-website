{"ast":null,"code":"var _jsxFileName = \"F:\\\\TDTU\\\\Term5\\\\Java\\\\FP\\\\Food-Order-FE\\\\src\\\\components\\\\meal-type\\\\EditMealTypeComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport MealTypeService from '../../services/MealTypeService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditMealTypeComponent = props => {\n  _s();\n\n  const mealType = props.mealType;\n  const selectedFile = props.file;\n  const [typeName, setTypeName] = useState(mealType.typeName || '');\n  const [description, setDescription] = useState(mealType.description || '');\n  useEffect(() => {\n    setTypeName(mealType.typeName || '');\n    setDescription(mealType.description || '');\n  }, [mealType]);\n\n  const onChoseFile = e => {\n    selectedFile.setSelectedFile(e.target.files[0]);\n    console.log(\"Selected file:\", e.target.files[0]);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('mealType', JSON.stringify({ ...mealType,\n      typeName,\n      description\n    }));\n\n    if (selectedFile.selectedFile) {\n      formData.append('image', selectedFile.selectedFile);\n    }\n\n    try {\n      const response = await MealTypeService.updateMealType(formData);\n\n      if (response.data === 'success') {\n        alert('Meal Type updated successfully!'); // Gọi lại hàm để cập nhật dữ liệu trong ứng dụng chính\n\n        if (props.onUpdateSuccess) props.onUpdateSuccess();\n      } else {\n        alert('Failed to update Meal Type. Please try again.');\n      }\n    } catch (error) {\n      console.error('Error updating Meal Type:', error);\n      alert('An error occurred while updating the Meal Type.');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-add-meal\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Type Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Insert name\",\n            name: \"typeName\",\n            className: \"form-control\",\n            value: typeName,\n            onChange: e => setTypeName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Description: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Insert description\",\n            name: \"description\",\n            className: \"form-control\",\n            value: description,\n            onChange: e => setDescription(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Upload Image \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"image\",\n            className: \"form-control\",\n            onChange: onChoseFile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: \"btn btn-primary mt-3\",\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditMealTypeComponent, \"P6aIZsKI+9IEwzFLKQgphwHRbeI=\");\n\n_c = EditMealTypeComponent;\nexport default EditMealTypeComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMealTypeComponent\");","map":{"version":3,"names":["React","useState","useEffect","Form","Button","MealTypeService","EditMealTypeComponent","props","mealType","selectedFile","file","typeName","setTypeName","description","setDescription","onChoseFile","e","setSelectedFile","target","files","console","log","handleSubmit","preventDefault","formData","FormData","append","JSON","stringify","response","updateMealType","data","alert","onUpdateSuccess","error","value"],"sources":["F:/TDTU/Term5/Java/FP/Food-Order-FE/src/components/meal-type/EditMealTypeComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport MealTypeService from '../../services/MealTypeService';\r\n\r\nconst EditMealTypeComponent = (props) => {\r\n    const mealType = props.mealType;\r\n    const selectedFile = props.file;\r\n    const [typeName, setTypeName] = useState(mealType.typeName || '');\r\n    const [description, setDescription] = useState(mealType.description || '');\r\n\r\n    useEffect(() => {\r\n        setTypeName(mealType.typeName || '');\r\n        setDescription(mealType.description || '');\r\n    }, [mealType]);\r\n\r\n    const onChoseFile = (e) => {\r\n        selectedFile.setSelectedFile(e.target.files[0]);\r\n        console.log(\"Selected file:\", e.target.files[0]);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('mealType', JSON.stringify({ ...mealType, typeName, description }));\r\n\r\n        if (selectedFile.selectedFile) {\r\n            formData.append('image', selectedFile.selectedFile);\r\n        }\r\n\r\n        try {\r\n            const response = await MealTypeService.updateMealType(formData);\r\n            if (response.data === 'success') {\r\n                alert('Meal Type updated successfully!');\r\n                // Gọi lại hàm để cập nhật dữ liệu trong ứng dụng chính\r\n                if (props.onUpdateSuccess) props.onUpdateSuccess();\r\n            } else {\r\n                alert('Failed to update Meal Type. Please try again.');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating Meal Type:', error);\r\n            alert('An error occurred while updating the Meal Type.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className='container-add-meal'>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className='form-group mb-2'>\r\n                        <label className='form-label'>Type Name: </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Insert name\"\r\n                            name=\"typeName\"\r\n                            className=\"form-control\"\r\n                            value={typeName}\r\n                            onChange={(e) => setTypeName(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='form-group mb-2'>\r\n                        <label className='form-label'>Description: </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Insert description\"\r\n                            name=\"description\"\r\n                            className=\"form-control\"\r\n                            value={description}\r\n                            onChange={(e) => setDescription(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='form-group mb-2'>\r\n                        <label className='form-label'>Upload Image </label>\r\n                        <input\r\n                            type=\"file\"\r\n                            name=\"image\"\r\n                            className=\"form-control\"\r\n                            onChange={onChoseFile}\r\n                        />\r\n                    </div>\r\n\r\n                    <Button type=\"submit\" className=\"btn btn-primary mt-3\">\r\n                        Save Changes\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditMealTypeComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}