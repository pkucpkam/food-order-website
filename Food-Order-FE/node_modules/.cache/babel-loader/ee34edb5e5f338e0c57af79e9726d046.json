{"ast":null,"code":"import axios from \"axios\";\nexport function jwtInterceptor() {\n  // Add a request interceptor\n  axios.interceptors.request.use(function (config) {\n    console.log(\"config: \", config);\n\n    if (localStorage.token != '' && localStorage.token != null) {\n      const token = localStorage.token; // console.log(\"token from interceptor: \" + token);\n\n      var tokenBearer = `Bearer ${token}`;\n      axios.defaults.headers.common['Authorization'] = tokenBearer;\n      console.log(\"Token from interceptor\" + tokenBearer);\n    } else {\n      axios.defaults.headers.common['Authorization'] = null; // delete axios.defaults.headers.common['Authorization'];\n\n      console.log(\"NEMA TOKENA!\");\n      /*if setting null does not remove `Authorization` header then try     \r\n        delete axios.defaults.headers.common['Authorization'];\r\n      */\n    }\n\n    return config;\n  });\n}","map":{"version":3,"names":["axios","jwtInterceptor","interceptors","request","use","config","console","log","localStorage","token","tokenBearer","defaults","headers","common"],"sources":["F:/TDTU/Term5/Java/FP/Food-Order-FE/src/components/interceptor/Interceptor.js"],"sourcesContent":["import axios from \"axios\";\r\nexport function jwtInterceptor() {\r\n  // Add a request interceptor\r\naxios.interceptors.request.use(function (config) {\r\n  console.log(\"config: \", config);\r\n    if (localStorage.token != '' && localStorage.token != null ) {\r\n        const token = localStorage.token;\r\n        // console.log(\"token from interceptor: \" + token);\r\n        var tokenBearer = `Bearer ${token}`;\r\n        axios.defaults.headers.common['Authorization'] = tokenBearer; \r\n        console.log(\"Token from interceptor\" + tokenBearer);\r\n    } else {\r\n        axios.defaults.headers.common['Authorization'] = null;\r\n        // delete axios.defaults.headers.common['Authorization'];\r\n        console.log(\"NEMA TOKENA!\");\r\n        /*if setting null does not remove `Authorization` header then try     \r\n          delete axios.defaults.headers.common['Authorization'];\r\n        */\r\n    }\r\n    \r\n\r\n    return config;\r\n});\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,SAASC,cAAT,GAA0B;EAC/B;EACFD,KAAK,CAACE,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;IAC/CC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,MAAxB;;IACE,IAAIG,YAAY,CAACC,KAAb,IAAsB,EAAtB,IAA4BD,YAAY,CAACC,KAAb,IAAsB,IAAtD,EAA6D;MACzD,MAAMA,KAAK,GAAGD,YAAY,CAACC,KAA3B,CADyD,CAEzD;;MACA,IAAIC,WAAW,GAAI,UAASD,KAAM,EAAlC;MACAT,KAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDH,WAAjD;MACAJ,OAAO,CAACC,GAAR,CAAY,2BAA2BG,WAAvC;IACH,CAND,MAMO;MACHV,KAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,IAAjD,CADG,CAEH;;MACAP,OAAO,CAACC,GAAR,CAAY,cAAZ;MACA;AACR;AACA;IACK;;IAGD,OAAOF,MAAP;EACH,CAnBD;AAoBC"},"metadata":{},"sourceType":"module"}